{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction ReportCardComponent_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \\u0421\\u0433\\u0435\\u043D\\u0435\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D: \", i0.ɵɵpipeBind2(2, 1, ctx_r0.report.generated_at, \"dd.MM.yyyy HH:mm\"), \" \");\n  }\n}\nfunction ReportCardComponent_button_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function ReportCardComponent_button_16_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.onDownload());\n    });\n    i0.ɵɵtext(1, \" \\u0421\\u043A\\u0430\\u0447\\u0430\\u0442\\u044C PDF \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ReportCardComponent_button_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function ReportCardComponent_button_17_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.onRetry());\n    });\n    i0.ɵɵtext(1, \" \\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u044C \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ReportCardComponent {\n  constructor() {\n    this.download = new EventEmitter();\n    this.retry = new EventEmitter();\n  }\n  onDownload() {\n    this.download.emit(this.report.id);\n  }\n  onRetry() {\n    this.retry.emit(this.report.id);\n  }\n  getStatusClass(status) {\n    switch (status) {\n      case 'completed':\n        return 'bg-green-100 text-green-800';\n      case 'generating':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'pending':\n        return 'bg-blue-100 text-blue-800';\n      case 'error':\n        return 'bg-red-100 text-red-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  }\n  getStatusText(status) {\n    switch (status) {\n      case 'completed':\n        return 'Готов';\n      case 'generating':\n        return 'Генерируется';\n      case 'pending':\n        return 'Ожидает';\n      case 'error':\n        return 'Ошибка';\n      default:\n        return 'Неизвестно';\n    }\n  }\n  static {\n    this.ɵfac = function ReportCardComponent_Factory(t) {\n      return new (t || ReportCardComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ReportCardComponent,\n      selectors: [[\"app-report-card\"]],\n      inputs: {\n        report: \"report\"\n      },\n      outputs: {\n        download: \"download\",\n        retry: \"retry\"\n      },\n      decls: 18,\n      vars: 10,\n      consts: [[1, \"card\"], [1, \"card-body\"], [1, \"flex\", \"items-center\", \"justify-between\", \"mb-4\"], [1, \"text-lg\", \"font-semibold\", \"text-gray-900\", \"font-mono\"], [1, \"text-sm\", \"text-gray-500\", \"mt-1\"], [1, \"flex\", \"items-center\", \"space-x-2\"], [1, \"px-3\", \"py-1\", \"text-xs\", \"font-medium\", \"rounded-full\", 3, \"ngClass\"], [1, \"flex\", \"items-center\", \"justify-between\"], [1, \"text-sm\", \"text-gray-600\"], [4, \"ngIf\"], [1, \"flex\", \"space-x-2\"], [\"class\", \"btn btn-primary btn-sm\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-outline btn-sm\", 3, \"click\", 4, \"ngIf\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"click\"], [1, \"btn\", \"btn-outline\", \"btn-sm\", 3, \"click\"]],\n      template: function ReportCardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\")(4, \"h3\", 3);\n          i0.ɵɵtext(5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"p\", 4);\n          i0.ɵɵtext(7);\n          i0.ɵɵpipe(8, \"date\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(9, \"div\", 5)(10, \"span\", 6);\n          i0.ɵɵtext(11);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(12, \"div\", 7)(13, \"div\", 8);\n          i0.ɵɵtemplate(14, ReportCardComponent_span_14_Template, 3, 4, \"span\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"div\", 10);\n          i0.ɵɵtemplate(16, ReportCardComponent_button_16_Template, 2, 0, \"button\", 11)(17, ReportCardComponent_button_17_Template, 2, 0, \"button\", 12);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\"VIN: \", ctx.report.vin, \"\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\" \\u0421\\u043E\\u0437\\u0434\\u0430\\u043D: \", i0.ɵɵpipeBind2(8, 7, ctx.report.created_at, \"dd.MM.yyyy HH:mm\"), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngClass\", ctx.getStatusClass(ctx.report.status));\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate1(\" \", ctx.getStatusText(ctx.report.status), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.report.generated_at);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.report.status === \"completed\" && ctx.report.downloadUrl);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.report.status === \"error\");\n        }\n      },\n      dependencies: [i1.NgClass, i1.NgIf, i1.DatePipe],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["EventEmitter","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind2","ctx_r0","report","generated_at","ɵɵlistener","ReportCardComponent_button_16_Template_button_click_0_listener","ɵɵrestoreView","_r2","ɵɵnextContext","ɵɵresetView","onDownload","ReportCardComponent_button_17_Template_button_click_0_listener","_r3","onRetry","ReportCardComponent","constructor","download","retry","emit","id","getStatusClass","status","getStatusText","selectors","inputs","outputs","decls","vars","consts","template","ReportCardComponent_Template","rf","ctx","ɵɵtemplate","ReportCardComponent_span_14_Template","ReportCardComponent_button_16_Template","ReportCardComponent_button_17_Template","vin","created_at","ɵɵproperty","downloadUrl"],"sources":["/Users/test/Documents/Apps/CarFax Web/frontend/src/app/components/report-card/report-card.component.ts"],"sourcesContent":["import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { Report } from '../../services/reports.service';\n\n@Component({\n  selector: 'app-report-card',\n  template: `\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <div class=\"flex items-center justify-between mb-4\">\n          <div>\n            <h3 class=\"text-lg font-semibold text-gray-900 font-mono\">VIN: {{ report.vin }}</h3>\n            <p class=\"text-sm text-gray-500 mt-1\">\n              Создан: {{ report.created_at | date:'dd.MM.yyyy HH:mm' }}\n            </p>\n          </div>\n          <div class=\"flex items-center space-x-2\">\n            <span [ngClass]=\"getStatusClass(report.status)\" \n                  class=\"px-3 py-1 text-xs font-medium rounded-full\">\n              {{ getStatusText(report.status) }}\n            </span>\n          </div>\n        </div>\n        \n        <div class=\"flex items-center justify-between\">\n          <div class=\"text-sm text-gray-600\">\n            <span *ngIf=\"report.generated_at\">\n              Сгенерирован: {{ report.generated_at | date:'dd.MM.yyyy HH:mm' }}\n            </span>\n          </div>\n          \n          <div class=\"flex space-x-2\">\n            <button \n              *ngIf=\"report.status === 'completed' && report.downloadUrl\"\n              (click)=\"onDownload()\"\n              class=\"btn btn-primary btn-sm\"\n            >\n              Скачать PDF\n            </button>\n            \n            <button \n              *ngIf=\"report.status === 'error'\"\n              (click)=\"onRetry()\"\n              class=\"btn btn-outline btn-sm\"\n            >\n              Повторить\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: []\n})\nexport class ReportCardComponent {\n  @Input() report!: Report;\n  @Output() download = new EventEmitter<string>();\n  @Output() retry = new EventEmitter<string>();\n\n  onDownload(): void {\n    this.download.emit(this.report.id);\n  }\n\n  onRetry(): void {\n    this.retry.emit(this.report.id);\n  }\n\n  getStatusClass(status: string): string {\n    switch (status) {\n      case 'completed':\n        return 'bg-green-100 text-green-800';\n      case 'generating':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'pending':\n        return 'bg-blue-100 text-blue-800';\n      case 'error':\n        return 'bg-red-100 text-red-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  }\n\n  getStatusText(status: string): string {\n    switch (status) {\n      case 'completed':\n        return 'Готов';\n      case 'generating':\n        return 'Генерируется';\n      case 'pending':\n        return 'Ожидает';\n      case 'error':\n        return 'Ошибка';\n      default:\n        return 'Неизвестно';\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}