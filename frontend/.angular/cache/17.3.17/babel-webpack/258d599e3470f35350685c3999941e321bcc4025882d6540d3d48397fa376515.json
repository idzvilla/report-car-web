{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/reports.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../components/vin-input/vin-input.component\";\nimport * as i4 from \"../../components/paywall-modal/paywall-modal.component\";\nimport * as i5 from \"../../components/report-card/report-card.component\";\nconst _c0 = [\"vinInput\"];\nfunction HomeComponent_div_12_app_report_card_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-report-card\", 18);\n    i0.ɵɵlistener(\"download\", function HomeComponent_div_12_app_report_card_7_Template_app_report_card_download_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onDownloadReport($event));\n    })(\"retry\", function HomeComponent_div_12_app_report_card_7_Template_app_report_card_retry_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onRetryReport($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const report_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"report\", report_r4);\n  }\n}\nfunction HomeComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 13)(2, \"h2\", 14);\n    i0.ɵɵtext(3, \"\\u0412\\u0430\\u0448\\u0438 \\u043E\\u0442\\u0447\\u0451\\u0442\\u044B\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 15);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 16);\n    i0.ɵɵtemplate(7, HomeComponent_div_12_app_report_card_7_Template, 1, 1, \"app-report-card\", 17);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.userReports.length, \" \\u043E\\u0442\\u0447\\u0451\\u0442\\u043E\\u0432\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.userReports);\n  }\n}\nexport class HomeComponent {\n  constructor(reportsService) {\n    this.reportsService = reportsService;\n    this.userReports = [];\n    this.showPaywall = false;\n    this.currentVin = '';\n    this.currentReportId = '';\n  }\n  ngOnInit() {\n    this.loadUserReports();\n  }\n  onVinSubmitted(vin) {\n    this.currentVin = vin;\n    this.reportsService.requestReport(vin).subscribe({\n      next: response => {\n        console.log('Response received:', response);\n        // Для демонстрации всегда показываем paywall\n        this.currentReportId = response.reportId;\n        this.showPaywall = true;\n        // Сбрасываем состояние загрузки\n        this.resetVinInput();\n      },\n      error: error => {\n        console.error('Ошибка запроса отчёта:', error);\n        alert('Ошибка при запросе отчёта. Попробуйте снова.');\n        // Сбрасываем состояние загрузки при ошибке\n        this.resetVinInput();\n      }\n    });\n  }\n  onDownloadReport(reportId) {\n    this.reportsService.downloadReport(reportId).subscribe({\n      next: response => {\n        window.open(response.downloadUrl, '_blank');\n      },\n      error: error => {\n        console.error('Ошибка скачивания:', error);\n        alert('Ошибка при скачивании отчёта.');\n      }\n    });\n  }\n  onRetryReport(reportId) {\n    // В реальном приложении здесь бы был запрос на повторную генерацию\n    console.log('Retry report:', reportId);\n    this.loadUserReports();\n  }\n  onClosePaywall() {\n    this.showPaywall = false;\n    this.currentVin = '';\n    this.currentReportId = '';\n  }\n  onPaymentSuccess() {\n    // Показываем успешное сообщение\n    alert('Оплата прошла успешно! Отчёт готов к скачиванию.');\n    // Добавляем тестовый отчёт в список\n    const testReport = {\n      id: this.currentReportId,\n      vin: this.currentVin,\n      user_id: 'test-user',\n      status: 'completed',\n      price: 2.00,\n      pdf_file_name: `report_${this.currentReportId}.pdf`,\n      generated_at: new Date().toISOString(),\n      created_at: new Date().toISOString(),\n      updated_at: new Date().toISOString(),\n      downloadUrl: 'https://example.com/report.pdf'\n    };\n    this.userReports.unshift(testReport);\n    this.loadUserReports();\n  }\n  loadUserReports() {\n    this.reportsService.getUserReports().subscribe({\n      next: reports => {\n        this.userReports = reports;\n      },\n      error: error => {\n        console.error('Ошибка загрузки отчётов:', error);\n      }\n    });\n  }\n  resetVinInput() {\n    if (this.vinInputComponent) {\n      this.vinInputComponent.resetForm();\n    }\n  }\n  static {\n    this.ɵfac = function HomeComponent_Factory(t) {\n      return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.ReportsService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: HomeComponent,\n      selectors: [[\"app-home\"]],\n      viewQuery: function HomeComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.vinInputComponent = _t.first);\n        }\n      },\n      decls: 14,\n      vars: 4,\n      consts: [[\"vinInput\", \"\"], [1, \"min-h-screen\", \"bg-gray-50\"], [1, \"max-w-7xl\", \"mx-auto\", \"px-4\", \"sm:px-6\", \"lg:px-8\", \"py-12\"], [1, \"text-center\", \"mb-16\"], [1, \"text-4xl\", \"font-bold\", \"text-gray-900\", \"mb-6\"], [1, \"text-xl\", \"text-gray-600\", \"mb-8\", \"max-w-3xl\", \"mx-auto\"], [1, \"max-w-2xl\", \"mx-auto\", \"mb-16\"], [1, \"card\"], [1, \"card-body\"], [3, \"vinSubmitted\"], [\"class\", \"mb-16\", 4, \"ngIf\"], [3, \"close\", \"paymentSuccess\", \"isVisible\", \"vin\", \"reportId\"], [1, \"mb-16\"], [1, \"flex\", \"items-center\", \"justify-between\", \"mb-8\"], [1, \"text-2xl\", \"font-bold\", \"text-gray-900\"], [1, \"text-sm\", \"text-gray-500\"], [1, \"grid\", \"gap-4\"], [3, \"report\", \"download\", \"retry\", 4, \"ngFor\", \"ngForOf\"], [3, \"download\", \"retry\", \"report\"]],\n      template: function HomeComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3)(3, \"h1\", 4);\n          i0.ɵɵtext(4, \" \\u041E\\u0442\\u0447\\u0451\\u0442\\u044B CarFax \\u043F\\u043E VIN \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"p\", 5);\n          i0.ɵɵtext(6, \" \\u041F\\u043E\\u0434\\u043B\\u0438\\u043D\\u043D\\u044B\\u0435 \\u043E\\u0442\\u0447\\u0451\\u0442\\u044B CarFax \\u0441 \\u043F\\u043E\\u043B\\u043D\\u043E\\u0439 \\u0438\\u0441\\u0442\\u043E\\u0440\\u0438\\u0435\\u0439 \\u0430\\u0432\\u0442\\u043E\\u043C\\u043E\\u0431\\u0438\\u043B\\u044F, \\u0430\\u0432\\u0430\\u0440\\u0438\\u044F\\u043C\\u0438, \\u0441\\u0435\\u0440\\u0432\\u0438\\u0441\\u043D\\u044B\\u043C\\u0438 \\u0440\\u0430\\u0431\\u043E\\u0442\\u0430\\u043C\\u0438 \\u0438 \\u043C\\u043D\\u043E\\u0433\\u043E\\u0435 \\u0434\\u0440\\u0443\\u0433\\u043E\\u0435. \\u041E\\u0444\\u0438\\u0446\\u0438\\u0430\\u043B\\u044C\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0437\\u0430 \\u0441\\u0447\\u0438\\u0442\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043C\\u0438\\u043D\\u0443\\u0442\\u044B. \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 8)(10, \"app-vin-input\", 9, 0);\n          i0.ɵɵlistener(\"vinSubmitted\", function HomeComponent_Template_app_vin_input_vinSubmitted_10_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onVinSubmitted($event));\n          });\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵtemplate(12, HomeComponent_div_12_Template, 8, 2, \"div\", 10);\n          i0.ɵɵelementStart(13, \"app-paywall-modal\", 11);\n          i0.ɵɵlistener(\"close\", function HomeComponent_Template_app_paywall_modal_close_13_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onClosePaywall());\n          })(\"paymentSuccess\", function HomeComponent_Template_app_paywall_modal_paymentSuccess_13_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onPaymentSuccess());\n          });\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngIf\", ctx.userReports.length > 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"isVisible\", ctx.showPaywall)(\"vin\", ctx.currentVin)(\"reportId\", ctx.currentReportId);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.VinInputComponent, i4.PaywallModalComponent, i5.ReportCardComponent],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","HomeComponent_div_12_app_report_card_7_Template_app_report_card_download_0_listener","$event","ɵɵrestoreView","_r2","ctx_r2","ɵɵnextContext","ɵɵresetView","onDownloadReport","HomeComponent_div_12_app_report_card_7_Template_app_report_card_retry_0_listener","onRetryReport","ɵɵelementEnd","ɵɵproperty","report_r4","ɵɵtext","ɵɵtemplate","HomeComponent_div_12_app_report_card_7_Template","ɵɵadvance","ɵɵtextInterpolate1","userReports","length","HomeComponent","constructor","reportsService","showPaywall","currentVin","currentReportId","ngOnInit","loadUserReports","onVinSubmitted","vin","requestReport","subscribe","next","response","console","log","reportId","resetVinInput","error","alert","downloadReport","window","open","downloadUrl","onClosePaywall","onPaymentSuccess","testReport","id","user_id","status","price","pdf_file_name","generated_at","Date","toISOString","created_at","updated_at","unshift","getUserReports","reports","vinInputComponent","resetForm","ɵɵdirectiveInject","i1","ReportsService","selectors","viewQuery","HomeComponent_Query","rf","ctx","HomeComponent_Template_app_vin_input_vinSubmitted_10_listener","_r1","HomeComponent_div_12_Template","HomeComponent_Template_app_paywall_modal_close_13_listener","HomeComponent_Template_app_paywall_modal_paymentSuccess_13_listener"],"sources":["/Users/test/Documents/Apps/CarFax Web/frontend/src/app/pages/home/home.component.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ReportsService, Report } from '../../services/reports.service';\nimport { VinInputComponent } from '../../components/vin-input/vin-input.component';\nimport { PaywallModalComponent } from '../../components/paywall-modal/paywall-modal.component';\nimport { ReportCardComponent } from '../../components/report-card/report-card.component';\n\n@Component({\n  selector: 'app-home',\n  template: `\n    <div class=\"min-h-screen bg-gray-50\">\n      <!-- Main Content -->\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <!-- Hero Section -->\n        <div class=\"text-center mb-16\">\n          <h1 class=\"text-4xl font-bold text-gray-900 mb-6\">\n            Отчёты CarFax по VIN\n          </h1>\n          <p class=\"text-xl text-gray-600 mb-8 max-w-3xl mx-auto\">\n            Подлинные отчёты CarFax с полной историей автомобиля, авариями, сервисными работами и многое другое. \n            Официальные данные за считанные минуты.\n          </p>\n        </div>\n\n        <!-- VIN Input Card -->\n        <div class=\"max-w-2xl mx-auto mb-16\">\n          <div class=\"card\">\n            <div class=\"card-body\">\n              <app-vin-input \n                (vinSubmitted)=\"onVinSubmitted($event)\"\n                #vinInput\n              ></app-vin-input>\n            </div>\n          </div>\n        </div>\n\n\n        <!-- User Reports Section -->\n        <div *ngIf=\"userReports.length > 0\" class=\"mb-16\">\n          <div class=\"flex items-center justify-between mb-8\">\n            <h2 class=\"text-2xl font-bold text-gray-900\">Ваши отчёты</h2>\n            <span class=\"text-sm text-gray-500\">{{ userReports.length }} отчётов</span>\n          </div>\n          <div class=\"grid gap-4\">\n            <app-report-card \n              *ngFor=\"let report of userReports\"\n              [report]=\"report\"\n              (download)=\"onDownloadReport($event)\"\n              (retry)=\"onRetryReport($event)\"\n            ></app-report-card>\n          </div>\n        </div>\n\n        <!-- Paywall Modal -->\n        <app-paywall-modal\n          [isVisible]=\"showPaywall\"\n          [vin]=\"currentVin\"\n          [reportId]=\"currentReportId\"\n          (close)=\"onClosePaywall()\"\n          (paymentSuccess)=\"onPaymentSuccess()\"\n        ></app-paywall-modal>\n      </div>\n    </div>\n  `,\n  styles: []\n})\nexport class HomeComponent implements OnInit {\n  @ViewChild('vinInput') vinInputComponent!: VinInputComponent;\n  \n  userReports: Report[] = [];\n  showPaywall = false;\n  currentVin = '';\n  currentReportId = '';\n\n  constructor(private reportsService: ReportsService) {}\n\n  ngOnInit(): void {\n    this.loadUserReports();\n  }\n\n  onVinSubmitted(vin: string): void {\n    this.currentVin = vin;\n    this.reportsService.requestReport(vin).subscribe({\n      next: (response) => {\n        console.log('Response received:', response);\n        // Для демонстрации всегда показываем paywall\n        this.currentReportId = response.reportId;\n        this.showPaywall = true;\n        // Сбрасываем состояние загрузки\n        this.resetVinInput();\n      },\n      error: (error) => {\n        console.error('Ошибка запроса отчёта:', error);\n        alert('Ошибка при запросе отчёта. Попробуйте снова.');\n        // Сбрасываем состояние загрузки при ошибке\n        this.resetVinInput();\n      }\n    });\n  }\n\n  onDownloadReport(reportId: string): void {\n    this.reportsService.downloadReport(reportId).subscribe({\n      next: (response) => {\n        window.open(response.downloadUrl, '_blank');\n      },\n      error: (error) => {\n        console.error('Ошибка скачивания:', error);\n        alert('Ошибка при скачивании отчёта.');\n      }\n    });\n  }\n\n  onRetryReport(reportId: string): void {\n    // В реальном приложении здесь бы был запрос на повторную генерацию\n    console.log('Retry report:', reportId);\n    this.loadUserReports();\n  }\n\n  onClosePaywall(): void {\n    this.showPaywall = false;\n    this.currentVin = '';\n    this.currentReportId = '';\n  }\n\n  onPaymentSuccess(): void {\n    // Показываем успешное сообщение\n    alert('Оплата прошла успешно! Отчёт готов к скачиванию.');\n    \n    // Добавляем тестовый отчёт в список\n    const testReport = {\n      id: this.currentReportId,\n      vin: this.currentVin,\n      user_id: 'test-user',\n      status: 'completed' as const,\n      price: 2.00,\n      pdf_file_name: `report_${this.currentReportId}.pdf`,\n      generated_at: new Date().toISOString(),\n      created_at: new Date().toISOString(),\n      updated_at: new Date().toISOString(),\n      downloadUrl: 'https://example.com/report.pdf'\n    };\n    \n    this.userReports.unshift(testReport);\n    this.loadUserReports();\n  }\n\n  private loadUserReports(): void {\n    this.reportsService.getUserReports().subscribe({\n      next: (reports) => {\n        this.userReports = reports;\n      },\n      error: (error) => {\n        console.error('Ошибка загрузки отчётов:', error);\n      }\n    });\n  }\n\n  private resetVinInput(): void {\n    if (this.vinInputComponent) {\n      this.vinInputComponent.resetForm();\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}