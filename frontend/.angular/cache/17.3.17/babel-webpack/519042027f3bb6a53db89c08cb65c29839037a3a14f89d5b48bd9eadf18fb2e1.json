{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../../components/loading-spinner/loading-spinner.component\";\nfunction RegisterComponent_div_17_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" \\u0418\\u043C\\u044F \\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_17_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" \\u0418\\u043C\\u044F \\u0434\\u043E\\u043B\\u0436\\u043D\\u043E \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044C \\u043C\\u0438\\u043D\\u0438\\u043C\\u0443\\u043C 2 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u0430 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtemplate(1, RegisterComponent_div_17_div_1_Template, 2, 0, \"div\", 21)(2, RegisterComponent_div_17_div_2_Template, 2, 0, \"div\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_2_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.registerForm.get(\"fullName\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r0.registerForm.get(\"fullName\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"minlength\"]);\n  }\n}\nfunction RegisterComponent_div_22_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Email \\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u0435\\u043D \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_22_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" \\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043A\\u043E\\u0440\\u0440\\u0435\\u043A\\u0442\\u043D\\u044B\\u0439 email \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtemplate(1, RegisterComponent_div_22_div_1_Template, 2, 0, \"div\", 21)(2, RegisterComponent_div_22_div_2_Template, 2, 0, \"div\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_2_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.registerForm.get(\"email\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r0.registerForm.get(\"email\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"email\"]);\n  }\n}\nfunction RegisterComponent_div_27_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" \\u041F\\u0430\\u0440\\u043E\\u043B\\u044C \\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u0435\\u043D \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_27_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" \\u041F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0434\\u043E\\u043B\\u0436\\u0435\\u043D \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044C \\u043C\\u0438\\u043D\\u0438\\u043C\\u0443\\u043C 6 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtemplate(1, RegisterComponent_div_27_div_1_Template, 2, 0, \"div\", 21)(2, RegisterComponent_div_27_div_2_Template, 2, 0, \"div\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_2_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.registerForm.get(\"password\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r0.registerForm.get(\"password\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"minlength\"]);\n  }\n}\nfunction RegisterComponent_div_32_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" \\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044F \\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_32_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" \\u041F\\u0430\\u0440\\u043E\\u043B\\u0438 \\u043D\\u0435 \\u0441\\u043E\\u0432\\u043F\\u0430\\u0434\\u0430\\u044E\\u0442 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtemplate(1, RegisterComponent_div_32_div_1_Template, 2, 0, \"div\", 21)(2, RegisterComponent_div_32_div_2_Template, 2, 0, \"div\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_2_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.registerForm.get(\"confirmPassword\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r0.registerForm.get(\"confirmPassword\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"mismatch\"]);\n  }\n}\nfunction RegisterComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.error, \" \");\n  }\n}\nfunction RegisterComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.success, \" \");\n  }\n}\nfunction RegisterComponent_span_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_span_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 26);\n    i0.ɵɵelement(1, \"app-loading-spinner\");\n    i0.ɵɵelementStart(2, \"span\", 27);\n    i0.ɵɵtext(3, \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u0435...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    constructor(fb, authService, router) {\n      this.fb = fb;\n      this.authService = authService;\n      this.router = router;\n      this.isLoading = false;\n      this.error = '';\n      this.success = '';\n      this.registerForm = this.fb.group({\n        fullName: ['', [Validators.required, Validators.minLength(2)]],\n        email: ['', [Validators.required, Validators.email]],\n        password: ['', [Validators.required, Validators.minLength(6)]],\n        confirmPassword: ['', [Validators.required]]\n      }, {\n        validators: this.passwordMatchValidator\n      });\n    }\n    passwordMatchValidator(form) {\n      const password = form.get('password');\n      const confirmPassword = form.get('confirmPassword');\n      if (password && confirmPassword && password.value !== confirmPassword.value) {\n        confirmPassword.setErrors({\n          mismatch: true\n        });\n      } else {\n        if (confirmPassword?.hasError('mismatch')) {\n          confirmPassword.setErrors(null);\n        }\n      }\n      return null;\n    }\n    onSubmit() {\n      if (this.registerForm.valid) {\n        this.isLoading = true;\n        this.error = '';\n        this.success = '';\n        const {\n          confirmPassword,\n          ...userData\n        } = this.registerForm.value;\n        this.authService.register(userData).subscribe({\n          next: response => {\n            this.isLoading = false;\n            this.success = 'Аккаунт успешно создан! Проверьте email для подтверждения.';\n            setTimeout(() => {\n              this.router.navigate(['/login']);\n            }, 3000);\n          },\n          error: error => {\n            this.isLoading = false;\n            this.error = 'Ошибка создания аккаунта. Возможно, пользователь с таким email уже существует.';\n            console.error('Register error:', error);\n          }\n        });\n      }\n    }\n    static {\n      this.ɵfac = function RegisterComponent_Factory(t) {\n        return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: RegisterComponent,\n        selectors: [[\"app-register\"]],\n        decls: 39,\n        vars: 10,\n        consts: [[1, \"min-h-screen\", \"flex\", \"items-center\", \"justify-center\", \"bg-gray-50\", \"py-12\", \"px-4\", \"sm:px-6\", \"lg:px-8\"], [1, \"max-w-md\", \"w-full\", \"space-y-8\"], [1, \"mt-6\", \"text-center\", \"text-3xl\", \"font-extrabold\", \"text-gray-900\"], [1, \"mt-2\", \"text-center\", \"text-sm\", \"text-gray-600\"], [\"routerLink\", \"/login\", 1, \"font-medium\", \"text-primary-600\", \"hover:text-primary-500\"], [1, \"mt-4\", \"text-center\"], [1, \"telegram-login-widget\"], [1, \"mt-8\", \"space-y-6\", 3, \"ngSubmit\", \"formGroup\"], [1, \"space-y-4\"], [\"for\", \"fullName\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\"], [\"id\", \"fullName\", \"type\", \"text\", \"formControlName\", \"fullName\", \"placeholder\", \"\\u0418\\u0432\\u0430\\u043D \\u0418\\u0432\\u0430\\u043D\\u043E\\u0432\", 1, \"mt-1\", \"input-field\"], [\"class\", \"mt-1 text-sm text-red-600\", 4, \"ngIf\"], [\"for\", \"email\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\"], [\"id\", \"email\", \"type\", \"email\", \"formControlName\", \"email\", \"placeholder\", \"your@email.com\", 1, \"mt-1\", \"input-field\"], [\"for\", \"password\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\"], [\"id\", \"password\", \"type\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"\\u041C\\u0438\\u043D\\u0438\\u043C\\u0443\\u043C 6 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432\", 1, \"mt-1\", \"input-field\"], [\"for\", \"confirmPassword\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\"], [\"id\", \"confirmPassword\", \"type\", \"password\", \"formControlName\", \"confirmPassword\", \"placeholder\", \"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\", 1, \"mt-1\", \"input-field\"], [\"class\", \"text-center text-red-600 text-sm\", 4, \"ngIf\"], [\"class\", \"text-center text-green-600 text-sm\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"w-full\", \"btn-primary\", \"disabled:opacity-50\", \"disabled:cursor-not-allowed\", 3, \"disabled\"], [4, \"ngIf\"], [\"class\", \"flex items-center justify-center\", 4, \"ngIf\"], [1, \"mt-1\", \"text-sm\", \"text-red-600\"], [1, \"text-center\", \"text-red-600\", \"text-sm\"], [1, \"text-center\", \"text-green-600\", \"text-sm\"], [1, \"flex\", \"items-center\", \"justify-center\"], [1, \"ml-2\"]],\n        template: function RegisterComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h2\", 2);\n            i0.ɵɵtext(4, \" \\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442 \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"p\", 3);\n            i0.ɵɵtext(6, \" \\u0418\\u043B\\u0438 \");\n            i0.ɵɵelementStart(7, \"a\", 4);\n            i0.ɵɵtext(8, \" \\u0432\\u043E\\u0439\\u0434\\u0438\\u0442\\u0435 \\u0432 \\u0441\\u0443\\u0449\\u0435\\u0441\\u0442\\u0432\\u0443\\u044E\\u0449\\u0438\\u0439 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442 \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(9, \"div\", 5);\n            i0.ɵɵelement(10, \"div\", 6);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"form\", 7);\n            i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_11_listener() {\n              return ctx.onSubmit();\n            });\n            i0.ɵɵelementStart(12, \"div\", 8)(13, \"div\")(14, \"label\", 9);\n            i0.ɵɵtext(15, \" \\u041F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u0438\\u043C\\u044F \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(16, \"input\", 10);\n            i0.ɵɵtemplate(17, RegisterComponent_div_17_Template, 3, 2, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"div\")(19, \"label\", 12);\n            i0.ɵɵtext(20, \" Email \\u0430\\u0434\\u0440\\u0435\\u0441 \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(21, \"input\", 13);\n            i0.ɵɵtemplate(22, RegisterComponent_div_22_Template, 3, 2, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"div\")(24, \"label\", 14);\n            i0.ɵɵtext(25, \" \\u041F\\u0430\\u0440\\u043E\\u043B\\u044C \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(26, \"input\", 15);\n            i0.ɵɵtemplate(27, RegisterComponent_div_27_Template, 3, 2, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(28, \"div\")(29, \"label\", 16);\n            i0.ɵɵtext(30, \" \\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(31, \"input\", 17);\n            i0.ɵɵtemplate(32, RegisterComponent_div_32_Template, 3, 2, \"div\", 11);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(33, RegisterComponent_div_33_Template, 2, 1, \"div\", 18)(34, RegisterComponent_div_34_Template, 2, 1, \"div\", 19);\n            i0.ɵɵelementStart(35, \"div\")(36, \"button\", 20);\n            i0.ɵɵtemplate(37, RegisterComponent_span_37_Template, 2, 0, \"span\", 21)(38, RegisterComponent_span_38_Template, 4, 0, \"span\", 22);\n            i0.ɵɵelementEnd()()()()();\n          }\n          if (rf & 2) {\n            let tmp_1_0;\n            let tmp_2_0;\n            let tmp_3_0;\n            let tmp_4_0;\n            i0.ɵɵadvance(11);\n            i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.registerForm.get(\"fullName\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx.registerForm.get(\"fullName\")) == null ? null : tmp_1_0.touched));\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.registerForm.get(\"email\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx.registerForm.get(\"email\")) == null ? null : tmp_2_0.touched));\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.registerForm.get(\"password\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx.registerForm.get(\"password\")) == null ? null : tmp_3_0.touched));\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.registerForm.get(\"confirmPassword\")) == null ? null : tmp_4_0.invalid) && ((tmp_4_0 = ctx.registerForm.get(\"confirmPassword\")) == null ? null : tmp_4_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.error);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.success);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", ctx.registerForm.invalid || ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          }\n        },\n        dependencies: [i4.NgIf, i3.RouterLink, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i5.LoadingSpinnerComponent],\n        encapsulation: 2\n      });\n    }\n  }\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}