{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction AdminComponent_tr_75_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 28);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 28);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 29)(6, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function AdminComponent_tr_75_Template_button_click_6_listener() {\n      const user_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.updateUserCredits(user_r2));\n    });\n    i0.ɵɵtext(7, \" \\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C credits \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", user_r2.email, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", user_r2.credits_remaining || 0, \" \");\n  }\n}\nfunction AdminComponent_tr_93_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 31);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 28);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 32)(6, \"span\", 33);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\", 34);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const report_r4 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", report_r4.vin, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", report_r4.user_email, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(ctx_r2.getStatusClass(report_r4.status));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.getStatusText(report_r4.status), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(10, 6, report_r4.created_at, \"short\"), \" \");\n  }\n}\nexport let AdminComponent = /*#__PURE__*/(() => {\n  class AdminComponent {\n    constructor() {\n      this.stats = null;\n      this.users = [];\n      this.reports = [];\n      this.loading = false;\n    }\n    ngOnInit() {\n      this.loadDashboardData();\n    }\n    loadDashboardData() {\n      this.loading = true;\n      // Mock data for now\n      this.stats = {\n        totalReports: 150,\n        totalUsers: 25,\n        totalPayments: 89,\n        totalRevenue: 1250.50,\n        recentReports: [],\n        recentUsers: []\n      };\n      this.users = [{\n        email: 'user1@example.com',\n        credits_remaining: 5\n      }, {\n        email: 'user2@example.com',\n        credits_remaining: 0\n      }, {\n        email: 'user3@example.com',\n        credits_remaining: 10\n      }];\n      this.reports = [{\n        vin: '1HGBH41JXMN109186',\n        user_email: 'user1@example.com',\n        status: 'completed',\n        created_at: new Date()\n      }, {\n        vin: '2HGBH41JXMN109187',\n        user_email: 'user2@example.com',\n        status: 'pending',\n        created_at: new Date()\n      }];\n      this.loading = false;\n    }\n    updateUserCredits(user) {\n      const newCredits = prompt(`Введите новое количество credits для ${user.email}:`, user.credits_remaining.toString());\n      if (newCredits !== null) {\n        const credits = parseInt(newCredits, 10);\n        if (!isNaN(credits) && credits >= 0) {\n          user.credits_remaining = credits;\n          // Here you would call the API to update credits\n          console.log(`Updated credits for ${user.email} to ${credits}`);\n        }\n      }\n    }\n    getStatusClass(status) {\n      switch (status) {\n        case 'completed':\n          return 'bg-green-100 text-green-800';\n        case 'pending':\n          return 'bg-yellow-100 text-yellow-800';\n        case 'error':\n          return 'bg-red-100 text-red-800';\n        default:\n          return 'bg-gray-100 text-gray-800';\n      }\n    }\n    getStatusText(status) {\n      switch (status) {\n        case 'completed':\n          return 'Завершён';\n        case 'pending':\n          return 'В обработке';\n        case 'error':\n          return 'Ошибка';\n        default:\n          return 'Неизвестно';\n      }\n    }\n    static {\n      this.ɵfac = function AdminComponent_Factory(t) {\n        return new (t || AdminComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AdminComponent,\n        selectors: [[\"app-admin\"]],\n        decls: 94,\n        vars: 6,\n        consts: [[1, \"min-h-screen\", \"bg-gray-50\", \"py-12\"], [1, \"max-w-7xl\", \"mx-auto\", \"px-4\", \"sm:px-6\", \"lg:px-8\"], [1, \"mb-8\"], [1, \"text-3xl\", \"font-bold\", \"text-gray-900\"], [1, \"mt-2\", \"text-gray-600\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"lg:grid-cols-4\", \"gap-6\", \"mb-8\"], [1, \"bg-white\", \"overflow-hidden\", \"shadow\", \"rounded-lg\"], [1, \"p-5\"], [1, \"flex\", \"items-center\"], [1, \"flex-shrink-0\"], [1, \"w-8\", \"h-8\", \"bg-blue-500\", \"rounded-md\", \"flex\", \"items-center\", \"justify-center\"], [1, \"text-white\", \"text-sm\", \"font-medium\"], [1, \"ml-5\", \"w-0\", \"flex-1\"], [1, \"text-sm\", \"font-medium\", \"text-gray-500\", \"truncate\"], [1, \"text-lg\", \"font-medium\", \"text-gray-900\"], [1, \"w-8\", \"h-8\", \"bg-green-500\", \"rounded-md\", \"flex\", \"items-center\", \"justify-center\"], [1, \"w-8\", \"h-8\", \"bg-yellow-500\", \"rounded-md\", \"flex\", \"items-center\", \"justify-center\"], [1, \"w-8\", \"h-8\", \"bg-purple-500\", \"rounded-md\", \"flex\", \"items-center\", \"justify-center\"], [1, \"bg-white\", \"shadow\", \"rounded-lg\", \"mb-8\"], [1, \"px-4\", \"py-5\", \"sm:p-6\"], [1, \"text-lg\", \"leading-6\", \"font-medium\", \"text-gray-900\", \"mb-4\"], [1, \"overflow-x-auto\"], [1, \"min-w-full\", \"divide-y\", \"divide-gray-200\"], [1, \"bg-gray-50\"], [1, \"px-6\", \"py-3\", \"text-left\", \"text-xs\", \"font-medium\", \"text-gray-500\", \"uppercase\", \"tracking-wider\"], [1, \"bg-white\", \"divide-y\", \"divide-gray-200\"], [4, \"ngFor\", \"ngForOf\"], [1, \"bg-white\", \"shadow\", \"rounded-lg\"], [1, \"px-6\", \"py-4\", \"whitespace-nowrap\", \"text-sm\", \"text-gray-900\"], [1, \"px-6\", \"py-4\", \"whitespace-nowrap\", \"text-sm\", \"font-medium\"], [1, \"text-indigo-600\", \"hover:text-indigo-900\", 3, \"click\"], [1, \"px-6\", \"py-4\", \"whitespace-nowrap\", \"text-sm\", \"font-mono\", \"text-gray-900\"], [1, \"px-6\", \"py-4\", \"whitespace-nowrap\"], [1, \"px-2\", \"inline-flex\", \"text-xs\", \"leading-5\", \"font-semibold\", \"rounded-full\"], [1, \"px-6\", \"py-4\", \"whitespace-nowrap\", \"text-sm\", \"text-gray-500\"]],\n        template: function AdminComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\", 3);\n            i0.ɵɵtext(4, \"\\u0410\\u0434\\u043C\\u0438\\u043D \\u043F\\u0430\\u043D\\u0435\\u043B\\u044C\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"p\", 4);\n            i0.ɵɵtext(6, \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\\u043C\\u0438 \\u0438 \\u043E\\u0442\\u0447\\u0451\\u0442\\u0430\\u043C\\u0438\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(7, \"div\", 5)(8, \"div\", 6)(9, \"div\", 7)(10, \"div\", 8)(11, \"div\", 9)(12, \"div\", 10)(13, \"span\", 11);\n            i0.ɵɵtext(14, \"\\uD83D\\uDCCA\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(15, \"div\", 12)(16, \"dl\")(17, \"dt\", 13);\n            i0.ɵɵtext(18, \"\\u0412\\u0441\\u0435\\u0433\\u043E \\u043E\\u0442\\u0447\\u0451\\u0442\\u043E\\u0432\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"dd\", 14);\n            i0.ɵɵtext(20);\n            i0.ɵɵelementEnd()()()()()();\n            i0.ɵɵelementStart(21, \"div\", 6)(22, \"div\", 7)(23, \"div\", 8)(24, \"div\", 9)(25, \"div\", 15)(26, \"span\", 11);\n            i0.ɵɵtext(27, \"\\uD83D\\uDC65\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(28, \"div\", 12)(29, \"dl\")(30, \"dt\", 13);\n            i0.ɵɵtext(31, \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(32, \"dd\", 14);\n            i0.ɵɵtext(33);\n            i0.ɵɵelementEnd()()()()()();\n            i0.ɵɵelementStart(34, \"div\", 6)(35, \"div\", 7)(36, \"div\", 8)(37, \"div\", 9)(38, \"div\", 16)(39, \"span\", 11);\n            i0.ɵɵtext(40, \"\\uD83D\\uDCB3\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(41, \"div\", 12)(42, \"dl\")(43, \"dt\", 13);\n            i0.ɵɵtext(44, \"\\u041F\\u043B\\u0430\\u0442\\u0435\\u0436\\u0438\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(45, \"dd\", 14);\n            i0.ɵɵtext(46);\n            i0.ɵɵelementEnd()()()()()();\n            i0.ɵɵelementStart(47, \"div\", 6)(48, \"div\", 7)(49, \"div\", 8)(50, \"div\", 9)(51, \"div\", 17)(52, \"span\", 11);\n            i0.ɵɵtext(53, \"\\uD83D\\uDCB0\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(54, \"div\", 12)(55, \"dl\")(56, \"dt\", 13);\n            i0.ɵɵtext(57, \"\\u0412\\u044B\\u0440\\u0443\\u0447\\u043A\\u0430\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(58, \"dd\", 14);\n            i0.ɵɵtext(59);\n            i0.ɵɵelementEnd()()()()()()();\n            i0.ɵɵelementStart(60, \"div\", 18)(61, \"div\", 19)(62, \"h3\", 20);\n            i0.ɵɵtext(63, \" \\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\\u043C\\u0438 \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(64, \"div\", 21)(65, \"table\", 22)(66, \"thead\", 23)(67, \"tr\")(68, \"th\", 24);\n            i0.ɵɵtext(69, \" Email \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(70, \"th\", 24);\n            i0.ɵɵtext(71, \" Credits \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(72, \"th\", 24);\n            i0.ɵɵtext(73, \" \\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(74, \"tbody\", 25);\n            i0.ɵɵtemplate(75, AdminComponent_tr_75_Template, 8, 2, \"tr\", 26);\n            i0.ɵɵelementEnd()()()()();\n            i0.ɵɵelementStart(76, \"div\", 27)(77, \"div\", 19)(78, \"h3\", 20);\n            i0.ɵɵtext(79, \" \\u041F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0438\\u0435 \\u043E\\u0442\\u0447\\u0451\\u0442\\u044B \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(80, \"div\", 21)(81, \"table\", 22)(82, \"thead\", 23)(83, \"tr\")(84, \"th\", 24);\n            i0.ɵɵtext(85, \" VIN \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(86, \"th\", 24);\n            i0.ɵɵtext(87, \" \\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(88, \"th\", 24);\n            i0.ɵɵtext(89, \" \\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(90, \"th\", 24);\n            i0.ɵɵtext(91, \" \\u0414\\u0430\\u0442\\u0430 \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(92, \"tbody\", 25);\n            i0.ɵɵtemplate(93, AdminComponent_tr_93_Template, 11, 9, \"tr\", 26);\n            i0.ɵɵelementEnd()()()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(20);\n            i0.ɵɵtextInterpolate((ctx.stats == null ? null : ctx.stats.totalReports) || 0);\n            i0.ɵɵadvance(13);\n            i0.ɵɵtextInterpolate((ctx.stats == null ? null : ctx.stats.totalUsers) || 0);\n            i0.ɵɵadvance(13);\n            i0.ɵɵtextInterpolate((ctx.stats == null ? null : ctx.stats.totalPayments) || 0);\n            i0.ɵɵadvance(13);\n            i0.ɵɵtextInterpolate1(\"$\", (ctx.stats == null ? null : ctx.stats.totalRevenue) || 0, \"\");\n            i0.ɵɵadvance(16);\n            i0.ɵɵproperty(\"ngForOf\", ctx.users);\n            i0.ɵɵadvance(18);\n            i0.ɵɵproperty(\"ngForOf\", ctx.reports);\n          }\n        },\n        dependencies: [i1.NgForOf, i1.DatePipe]\n      });\n    }\n  }\n  return AdminComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}