{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction ReportCardComponent_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function ReportCardComponent_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onDownload());\n    });\n    i0.ɵɵtext(1, \" \\u0421\\u043A\\u0430\\u0447\\u0430\\u0442\\u044C PDF \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ReportCardComponent_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ReportCardComponent_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onRetry());\n    });\n    i0.ɵɵtext(1, \" \\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u044C \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ReportCardComponent {\n  constructor() {\n    this.download = new EventEmitter();\n    this.retry = new EventEmitter();\n  }\n  onDownload() {\n    this.download.emit(this.report.id);\n  }\n  onRetry() {\n    this.retry.emit(this.report.id);\n  }\n  getStatusClass(status) {\n    switch (status) {\n      case 'completed':\n        return 'bg-green-100 text-green-800';\n      case 'generating':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'pending':\n        return 'bg-blue-100 text-blue-800';\n      case 'error':\n        return 'bg-red-100 text-red-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  }\n  getStatusText(status) {\n    switch (status) {\n      case 'completed':\n        return 'Готов';\n      case 'generating':\n        return 'Генерируется';\n      case 'pending':\n        return 'Ожидает';\n      case 'error':\n        return 'Ошибка';\n      default:\n        return 'Неизвестно';\n    }\n  }\n  static {\n    this.ɵfac = function ReportCardComponent_Factory(t) {\n      return new (t || ReportCardComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ReportCardComponent,\n      selectors: [[\"app-report-card\"]],\n      inputs: {\n        report: \"report\"\n      },\n      outputs: {\n        download: \"download\",\n        retry: \"retry\"\n      },\n      decls: 14,\n      vars: 9,\n      consts: [[1, \"card\"], [1, \"card-body\"], [1, \"flex\", \"items-center\", \"justify-between\"], [1, \"flex-1\"], [1, \"text-lg\", \"font-semibold\", \"text-gray-900\", \"font-mono\"], [1, \"text-sm\", \"text-gray-500\", \"mt-1\"], [1, \"flex\", \"items-center\", \"space-x-4\"], [\"class\", \"btn btn-primary\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-outline\", 3, \"click\", 4, \"ngIf\"], [1, \"px-3\", \"py-1\", \"text-xs\", \"font-medium\", \"rounded-full\", 3, \"ngClass\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-outline\", 3, \"click\"]],\n      template: function ReportCardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h3\", 4);\n          i0.ɵɵtext(5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"p\", 5);\n          i0.ɵɵtext(7);\n          i0.ɵɵpipe(8, \"date\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(9, \"div\", 6);\n          i0.ɵɵtemplate(10, ReportCardComponent_button_10_Template, 2, 0, \"button\", 7)(11, ReportCardComponent_button_11_Template, 2, 0, \"button\", 8);\n          i0.ɵɵelementStart(12, \"span\", 9);\n          i0.ɵɵtext(13);\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\"VIN: \", ctx.report.vin, \"\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\" \\u0421\\u043E\\u0437\\u0434\\u0430\\u043D: \", i0.ɵɵpipeBind2(8, 6, ctx.report.created_at, \"dd.MM.yyyy HH:mm\"), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.report.status === \"completed\" && ctx.report.downloadUrl);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.report.status === \"error\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngClass\", ctx.getStatusClass(ctx.report.status));\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate1(\" \", ctx.getStatusText(ctx.report.status), \" \");\n        }\n      },\n      dependencies: [i1.NgClass, i1.NgIf, i1.DatePipe],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["EventEmitter","i0","ɵɵelementStart","ɵɵlistener","ReportCardComponent_button_10_Template_button_click_0_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","onDownload","ɵɵtext","ɵɵelementEnd","ReportCardComponent_button_11_Template_button_click_0_listener","_r3","onRetry","ReportCardComponent","constructor","download","retry","emit","report","id","getStatusClass","status","getStatusText","selectors","inputs","outputs","decls","vars","consts","template","ReportCardComponent_Template","rf","ctx","ɵɵtemplate","ReportCardComponent_button_10_Template","ReportCardComponent_button_11_Template","ɵɵadvance","ɵɵtextInterpolate1","vin","ɵɵpipeBind2","created_at","ɵɵproperty","downloadUrl"],"sources":["/Users/test/Documents/Apps/CarFax Web/frontend/src/app/components/report-card/report-card.component.ts"],"sourcesContent":["import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { Report } from '../../services/reports.service';\n\n@Component({\n  selector: 'app-report-card',\n  template: `\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <div class=\"flex items-center justify-between\">\n          <div class=\"flex-1\">\n            <h3 class=\"text-lg font-semibold text-gray-900 font-mono\">VIN: {{ report.vin }}</h3>\n            <p class=\"text-sm text-gray-500 mt-1\">\n              Создан: {{ report.created_at | date:'dd.MM.yyyy HH:mm' }}\n            </p>\n          </div>\n          \n          <div class=\"flex items-center space-x-4\">\n            <button \n              *ngIf=\"report.status === 'completed' && report.downloadUrl\"\n              (click)=\"onDownload()\"\n              class=\"btn btn-primary\"\n            >\n              Скачать PDF\n            </button>\n            \n            <button \n              *ngIf=\"report.status === 'error'\"\n              (click)=\"onRetry()\"\n              class=\"btn btn-outline\"\n            >\n              Повторить\n            </button>\n            \n            <span [ngClass]=\"getStatusClass(report.status)\" \n                  class=\"px-3 py-1 text-xs font-medium rounded-full\">\n              {{ getStatusText(report.status) }}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: []\n})\nexport class ReportCardComponent {\n  @Input() report!: Report;\n  @Output() download = new EventEmitter<string>();\n  @Output() retry = new EventEmitter<string>();\n\n  onDownload(): void {\n    this.download.emit(this.report.id);\n  }\n\n  onRetry(): void {\n    this.retry.emit(this.report.id);\n  }\n\n  getStatusClass(status: string): string {\n    switch (status) {\n      case 'completed':\n        return 'bg-green-100 text-green-800';\n      case 'generating':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'pending':\n        return 'bg-blue-100 text-blue-800';\n      case 'error':\n        return 'bg-red-100 text-red-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  }\n\n  getStatusText(status: string): string {\n    switch (status) {\n      case 'completed':\n        return 'Готов';\n      case 'generating':\n        return 'Генерируется';\n      case 'pending':\n        return 'Ожидает';\n      case 'error':\n        return 'Ошибка';\n      default:\n        return 'Неизвестно';\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}