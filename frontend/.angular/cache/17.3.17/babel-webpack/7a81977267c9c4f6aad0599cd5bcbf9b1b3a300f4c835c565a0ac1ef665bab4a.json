{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"@angular/common\";\nfunction ProfileComponent_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.messageType === \"success\" ? \"bg-green-50 text-green-700\" : \"bg-red-50 text-red-700\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.message, \" \");\n  }\n}\nexport class ProfileComponent {\n  constructor(authService) {\n    this.authService = authService;\n    this.user = null;\n    this.message = '';\n    this.messageType = 'success';\n  }\n  ngOnInit() {\n    this.authService.currentUser$.subscribe(user => {\n      this.user = user;\n    });\n  }\n  static {\n    this.ɵfac = function ProfileComponent_Factory(t) {\n      return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.AuthService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProfileComponent,\n      selectors: [[\"app-profile\"]],\n      decls: 50,\n      vars: 10,\n      consts: [[1, \"min-h-screen\", \"bg-gray-50\", \"py-12\"], [1, \"max-w-4xl\", \"mx-auto\", \"px-4\", \"sm:px-6\", \"lg:px-8\"], [1, \"bg-white\", \"shadow\", \"rounded-lg\"], [1, \"px-4\", \"py-5\", \"sm:p-6\"], [1, \"text-2xl\", \"font-bold\", \"text-gray-900\", \"mb-8\"], [1, \"grid\", \"md:grid-cols-2\", \"gap-8\"], [1, \"text-lg\", \"font-medium\", \"text-gray-900\", \"mb-4\"], [1, \"space-y-4\"], [1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\"], [\"type\", \"text\", \"readonly\", \"\", 1, \"mt-1\", \"input-field\", 3, \"value\"], [1, \"bg-primary-50\", \"rounded-lg\", \"p-4\", \"mb-4\"], [1, \"flex\", \"items-center\", \"justify-between\"], [1, \"text-sm\", \"font-medium\", \"text-primary-700\"], [1, \"text-2xl\", \"font-bold\", \"text-primary-600\"], [1, \"mt-2\", \"text-sm\", \"text-primary-600\"], [1, \"text-sm\", \"text-gray-600\"], [1, \"mb-2\"], [1, \"list-disc\", \"list-inside\", \"space-y-1\"], [\"class\", \"mt-4 p-4 rounded-md\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"mt-4\", \"p-4\", \"rounded-md\", 3, \"ngClass\"]],\n      template: function ProfileComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h1\", 4);\n          i0.ɵɵtext(5, \"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\")(8, \"h2\", 6);\n          i0.ɵɵtext(9, \"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u043E \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"div\", 7)(11, \"div\")(12, \"label\", 8);\n          i0.ɵɵtext(13, \"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(14, \"input\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"div\")(16, \"label\", 8);\n          i0.ɵɵtext(17, \"Telegram ID\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(18, \"input\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"div\")(20, \"label\", 8);\n          i0.ɵɵtext(21, \"Username\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(22, \"input\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"div\")(24, \"label\", 8);\n          i0.ɵɵtext(25, \"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(26, \"input\", 9);\n          i0.ɵɵpipe(27, \"date\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(28, \"div\")(29, \"h2\", 6);\n          i0.ɵɵtext(30, \"Credits\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(31, \"div\", 10)(32, \"div\", 11)(33, \"span\", 12);\n          i0.ɵɵtext(34, \"\\u041E\\u0441\\u0442\\u0430\\u043B\\u043E\\u0441\\u044C credits:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(35, \"span\", 13);\n          i0.ɵɵtext(36);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(37, \"div\", 14);\n          i0.ɵɵtext(38);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(39, \"div\", 15)(40, \"p\", 16);\n          i0.ɵɵtext(41, \"Credits \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u0443\\u044E\\u0442\\u0441\\u044F \\u0434\\u043B\\u044F \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F \\u043E\\u0442\\u0447\\u0451\\u0442\\u043E\\u0432 \\u043F\\u043E VIN:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(42, \"ul\", 17)(43, \"li\");\n          i0.ɵɵtext(44, \"1 credit = 1 \\u043E\\u0442\\u0447\\u0451\\u0442\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(45, \"li\");\n          i0.ɵɵtext(46, \"Bulk \\u043F\\u0430\\u043A\\u0435\\u0442: 100 credits \\u0437\\u0430 $99\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(47, \"li\");\n          i0.ɵɵtext(48, \"Single \\u043E\\u0442\\u0447\\u0451\\u0442: $2 (\\u0431\\u0435\\u0437 \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F credits)\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵtemplate(49, ProfileComponent_div_49_Template, 2, 2, \"div\", 18);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(14);\n          i0.ɵɵproperty(\"value\", (ctx.user == null ? null : ctx.user.fullName) || \"\\u041D\\u0435 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043D\\u043E\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"value\", (ctx.user == null ? null : ctx.user.telegramId) || \"\\u041D\\u0435 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043D\\u043E\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"value\", (ctx.user == null ? null : ctx.user.username) ? \"@\" + ctx.user.username : \"\\u041D\\u0435 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043D\\u043E\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"value\", i0.ɵɵpipeBind2(27, 7, ctx.user == null ? null : ctx.user.createdAt, \"dd.MM.yyyy HH:mm\"));\n          i0.ɵɵadvance(10);\n          i0.ɵɵtextInterpolate1(\" \", (ctx.user == null ? null : ctx.user.credits == null ? null : ctx.user.credits.credits_remaining) || 0, \" \");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\" \\u0412\\u0441\\u0435\\u0433\\u043E \\u043A\\u0443\\u043F\\u043B\\u0435\\u043D\\u043E: \", (ctx.user == null ? null : ctx.user.credits == null ? null : ctx.user.credits.credits_total) || 0, \" \");\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"ngIf\", ctx.message);\n        }\n      },\n      dependencies: [i2.NgClass, i2.NgIf, i2.DatePipe],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ctx_r0","messageType","ɵɵadvance","ɵɵtextInterpolate1","message","ProfileComponent","constructor","authService","user","ngOnInit","currentUser$","subscribe","ɵɵdirectiveInject","i1","AuthService","selectors","decls","vars","consts","template","ProfileComponent_Template","rf","ctx","ɵɵelement","ɵɵtemplate","ProfileComponent_div_49_Template","fullName","telegramId","username","ɵɵpipeBind2","createdAt","credits","credits_remaining","credits_total"],"sources":["/Users/test/Documents/Apps/CarFax Web/frontend/src/app/pages/profile/profile.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AuthService, User } from '../../services/auth.service';\n\n@Component({\n  selector: 'app-profile',\n  template: `\n    <div class=\"min-h-screen bg-gray-50 py-12\">\n      <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"bg-white shadow rounded-lg\">\n          <div class=\"px-4 py-5 sm:p-6\">\n            <h1 class=\"text-2xl font-bold text-gray-900 mb-8\">Профиль пользователя</h1>\n            \n            <div class=\"grid md:grid-cols-2 gap-8\">\n              <!-- User Info -->\n              <div>\n                <h2 class=\"text-lg font-medium text-gray-900 mb-4\">Информация о пользователе</h2>\n                <div class=\"space-y-4\">\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700\">Имя пользователя</label>\n                    <input\n                      type=\"text\"\n                      [value]=\"user?.fullName || 'Не указано'\"\n                      class=\"mt-1 input-field\"\n                      readonly\n                    />\n                  </div>\n                  \n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700\">Telegram ID</label>\n                    <input\n                      type=\"text\"\n                      [value]=\"user?.telegramId || 'Не указано'\"\n                      class=\"mt-1 input-field\"\n                      readonly\n                    />\n                  </div>\n                  \n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700\">Username</label>\n                    <input\n                      type=\"text\"\n                      [value]=\"user?.username ? '@' + user.username : 'Не указано'\"\n                      class=\"mt-1 input-field\"\n                      readonly\n                    />\n                  </div>\n                  \n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700\">Дата регистрации</label>\n                    <input\n                      type=\"text\"\n                      [value]=\"user?.createdAt | date:'dd.MM.yyyy HH:mm'\"\n                      class=\"mt-1 input-field\"\n                      readonly\n                    />\n                  </div>\n                </div>\n              </div>\n              \n              <!-- Credits Info -->\n              <div>\n                <h2 class=\"text-lg font-medium text-gray-900 mb-4\">Credits</h2>\n                <div class=\"bg-primary-50 rounded-lg p-4 mb-4\">\n                  <div class=\"flex items-center justify-between\">\n                    <span class=\"text-sm font-medium text-primary-700\">Осталось credits:</span>\n                    <span class=\"text-2xl font-bold text-primary-600\">\n                      {{ user?.credits?.credits_remaining || 0 }}\n                    </span>\n                  </div>\n                  <div class=\"mt-2 text-sm text-primary-600\">\n                    Всего куплено: {{ user?.credits?.credits_total || 0 }}\n                  </div>\n                </div>\n                \n                <div class=\"text-sm text-gray-600\">\n                  <p class=\"mb-2\">Credits используются для получения отчётов по VIN:</p>\n                  <ul class=\"list-disc list-inside space-y-1\">\n                    <li>1 credit = 1 отчёт</li>\n                    <li>Bulk пакет: 100 credits за $99</li>\n                    <li>Single отчёт: $2 (без использования credits)</li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n            \n            <!-- Messages -->\n            <div *ngIf=\"message\" class=\"mt-4 p-4 rounded-md\" \n                 [ngClass]=\"messageType === 'success' ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'\">\n              {{ message }}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: []\n})\nexport class ProfileComponent implements OnInit {\n  user: User | null = null;\n  message = '';\n  messageType: 'success' | 'error' = 'success';\n\n  constructor(\n    private authService: AuthService\n  ) {}\n\n  ngOnInit(): void {\n    this.authService.currentUser$.subscribe(user => {\n      this.user = user;\n    });\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}